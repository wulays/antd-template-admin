import{r as m,aF as S,n as V,u as h}from"./index-c0f6f211.js";function C(r){var u=m.useRef();u.current=r;var t=m.useCallback(function(){for(var n,e=arguments.length,f=new Array(e),a=0;a<e;a++)f[a]=arguments[a];return(n=u.current)===null||n===void 0?void 0:n.call.apply(n,[u].concat(f))},[]);return t}function c(r){return r!==void 0}function M(r,u){var t=u||{},n=t.defaultValue,e=t.value,f=t.onChange,a=t.postState,E=S(function(){return c(e)?e:c(n)?typeof n=="function"?n():n:typeof r=="function"?r():r}),v=V(E,2),i=v[0],l=v[1],o=e!==void 0?e:i,F=a?a(o):o,R=C(f),_=S([o]),p=V(_,2),d=p[0],x=p[1];h(function(){var s=d[0];i!==s&&R(i,s)},[d]),h(function(){c(e)||l(e)},[e]);var y=C(function(s,g){l(s,g),x([o],g)});return[F,y]}export{M as a,C as u};
